(window.webpackJsonp=window.webpackJsonp||[]).push([[47,24],{578:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return h}));var l=[{id:1,title:"fullname"},{id:2,title:"Photo"},{id:3,title:"username"},{id:4,title:"role"},{id:5,title:"email"},{id:6,title:"phone number"},{id:7,title:"status"},{id:8,title:"last login"},{id:9,title:"expires in"},{id:10,title:"is login"}],o=[{id:1,title:"role name"},{id:2,title:"users"}],r=[{id:1,type:"campaign",title:"campaign title"},{id:2,title:"campaign banner"},{id:3,title:"Qrcode"},{id:4,title:"Donation Target"},{id:5,title:"is headline"},{id:6,title:"published"},{id:7,title:"end campaign"},{id:8,title:"author"},{id:9,title:"limit"}],c=[{id:1,title:"Category  name"},{id:2,title:"Total Campaigns"}],d=[{id:1,title:"fullname"},{id:2,title:"email"},{id:3,title:"phone number"},{id:4,title:"status"}],h=[{id:1,title:"title"},{id:2,title:"banner"},{id:3,title:"publish"},{id:4,title:"end campaign"},{id:5,title:"created by"}]},596:function(t,e,n){"use strict";n.r(e);var l={props:["links","paging","category"],methods:{fetchAllData:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.category_id;this.$emit("fetch-data",t,e,n,l,o,r)}}},o=l,r=n(3),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("nav",{attrs:{"aria-label":"Page navigation example z-0"}},[e("ul",{staticClass:"flex list-style-none"},t._l(t.links,(function(link,n){return e("div",{key:n},["&laquo; Previous"===link.label?e("li",{staticClass:"page-item"},[e("a",{class:"page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none transition-all duration-300 rounded  ".concat(t.paging.current>1?"cursor-pointer":"pointer-events-none text-gray-500"," focus:shadow-none"),attrs:{tabindex:"-1","aria-disabled":"true"},domProps:{innerHTML:t._s(link.label)},on:{click:function(e){return t.fetchAllData(!0,!1,t.paging.current-=1)}}})]):link.active?e("li",{staticClass:"page-item active"},[e("a",{class:"page-link relative block py-1.5 px-3 rounded border-0 bg-blue-600 outline-none transition-all duration-300 rounded text-white hover:text-white hover:bg-blue-600 shadow-md focus:shadow-md ".concat(link.active?"pointer-events-none":"cursor-pointer"),on:{click:function(e){t.fetchAllData(!0,!1,parseInt(link.label))}}},[t._v(t._s(link.label))])]):"Next &raquo;"===link.label?e("li",{class:"page-item ".concat(t.paging.current===t.paging.last?"disabled":"")},[e("a",{class:"page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none transition-all duration-300 rounded hover:text-gray-800 hover:bg-gray-200 focus:shadow-none ".concat(t.paging.current===t.paging.last?"pointer-events-none text-gray-400":"cursor-pointer text-gray-800"),domProps:{innerHTML:t._s(link.label)},on:{click:function(e){return t.fetchAllData(!0,!1,t.paging.current+=1)}}})]):e("li",{staticClass:"page-item"},[e("a",{class:"page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none transition-all duration-300 rounded text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none ".concat(link.active?"pointer-events-none":"cursor-pointer"),on:{click:function(e){t.fetchAllData(!0,!1,parseInt(link.label))}}},[t._v(t._s(link.label))])])])})),0)])}),[],!1,null,null,null);e.default=component.exports},634:function(t,e,n){"use strict";n.r(e);var l=n(125),o=(n(30),n(9),n(27),n(53),n(35),n(23),n(578)),r=n(575),c={name:"users-data",layout:"admin",data:function(){return{loading:null,options:"",success:null,message_success:"",headers:Object(l.a)(o.d),api_url:"http://api.dompetkebaikanumat.cc.id/api/v1",items:[],activation_id:null,links:[],paging:{current:null,from:null,last:null,per_page:null,total:null}}},created:function(){this.checkNewData(),this.dataManagementEvent(),this.checkUpdateEvent()},mounted:function(){this.dataManagementEvent(),this.getUserData(),this.startCountdown()},beforeMount:function(){this.dataManagementEvent()},methods:{timerData:function(t,e){return{seconds:Math.floor(e/1e3%60),minutes:Math.floor(e/1e3/60%60),hours:Math.floor(e/36e5%24),days:Math.floor(e/864e5)}},startCountdown:function(){var t=this;setInterval((function(){t.items.forEach((function(e){var n=(new Date).getTime(),l=e.endTime-n,o=t.timerData(e,l),r=o.seconds,c=o.minutes,d=o.hours,h=o.days;null!==e.endTime?e.countdown="".concat(h>0?h+" hari, ":""," ").concat(d>0?d+" jam, ":""," ").concat(c>0?c+" menit, ":""," ").concat(r>0?r+" detik":""):e.countdown=null,l<0&&null!==e.endTime&&(e.countdown="Sesi login berakhir!")}))}),1e3)},getUserData:function(t,e){var n=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(r.c)({api_url:"".concat(this.api_url,"/fitur/user-management?page=").concat(l,"&name=").concat(o),token:this.token.token,api_key:"zPl71ZUii2HJebSKS9qD3baeWqgjxZTJ"}).then((function(data){var t,e,l,o,r,c,d,h=[];null==data||null===(t=data.data)||void 0===t||t.map((function(t){var e,l,o={id:null==t?void 0:t.id,name:null==t?void 0:t.name,photo:t.profiles.map((function(t){return null!=t&&t.photo?null==t?void 0:t.photo:null==t?void 0:t.g_avatar}))[0],email:null==t?void 0:t.email,role:n.$role(null==t?void 0:t.roles.map((function(t){return t.name}))),phone:null==t?void 0:t.phone,status:null==t?void 0:t.status,expires_at:null==t?void 0:t.expires_at,activation_id:null!=t&&t.activation_id?null==t?void 0:t.activation_id:null,token:null==t||null===(e=t.logins)||void 0===e?void 0:e.map((function(data){return data.user_token_login}))[0],last_login:null==t?void 0:t.last_login,is_login:null==t?void 0:t.is_login,endTime:new Date(null==t?void 0:t.expires_at),countdown:"",username:null==t||null===(l=t.profiles)||void 0===l?void 0:l.map((function(t){return null==t?void 0:t.username}))[0]};h.push(o)})),n.items=[].concat(h),n.links=null==data||null===(e=data.meta)||void 0===e?void 0:e.links,n.paging.current=null==data||null===(l=data.meta)||void 0===l?void 0:l.current_page,n.paging.from=null==data||null===(o=data.meta)||void 0===o?void 0:o.from,n.paging.last=null==data||null===(r=data.meta)||void 0===r?void 0:r.last_page,n.paging.per_page=null==data||null===(c=data.meta)||void 0===c?void 0:c.per_page,n.paging.total=null==data||null===(d=data.meta)||void 0===d?void 0:d.total})).catch((function(t){return console.log(t)}))},deletedUser:function(t){var e=this;this.loading=!0,this.options="delete-user",Object(r.b)({api_url:"".concat(this.api_url,"/fitur/user-management/").concat(t),token:this.token.token,api_key:"zPl71ZUii2HJebSKS9qD3baeWqgjxZTJ"}).then((function(data){data.success&&(e.success=!0,e.scrollToTop())})).finally((function(){setTimeout((function(){e.loading=!1,e.options=""}),1e3)})).catch((function(t){return console.log(t)}))},activationUser:function(t){var e=this;this.loading=!0,this.options="activation-user",Object(r.a)({api_url:"".concat(this.api_url,"/auth/activation/").concat(t),token:this.token.token,api_key:"zPl71ZUii2HJebSKS9qD3baeWqgjxZTJ",data:this.activation_id?this.activation_id:null}).then((function(t){var data=t.data;"ACTIVE"===data.status&&(e.success=!0,e.message_success="".concat(data.name,", berhasil di aktivasi !"))})).finally((function(){setTimeout((function(){e.loading=!1,e.options=""}),1e3)})).catch((function(t){return console.error(t)}))},closeSuccessAlert:function(){this.success=!1,this.message=""}},watch:{notifs:function(){this.$_.size(this.notifs)>0&&this.getUserData()},dataNotifs:function(){this.$_.size(this.dataNotifs)>0&&(this.message_success=this.messageNotif,this.getUserData(),this.getTotalUser())},updateProfileNotifs:function(){this.$_.size(this.updateProfileNotifs)>0&&this.getUserData()}}},d=c,h=n(3),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap mt-4"},[e("div",{staticClass:"w-full mb-12 px-4"},[e("cards-card-table",{attrs:{color:"dark",title:"User Dashboard",headers:t.headers,columns:t.items,loading:t.loading,userName:t.userName,types:"user-data",queryType:"USER_DATA",queryRole:"DASHBOARD",queryMiddle:"users-data",success:t.success,messageAlert:t.message_success},on:{"close-alert":t.closeSuccessAlert,"deleted-data":t.deletedUser,"activation-user":t.activationUser}}),t._v(" "),e("div",{staticClass:"mt-6 -mb-2"},[e("div",{staticClass:"flex justify-end items-end"},[e("molecules-pagination",{attrs:{links:t.links,paging:t.paging},on:{"fetch-data":t.getUserData}})],1)])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CardsCardTable:n(592).default,MoleculesPagination:n(596).default})}}]);